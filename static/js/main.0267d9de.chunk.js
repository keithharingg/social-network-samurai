(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,n){e.exports={selectedPage:"Paginator_selectedPage__198b6"}},122:function(e,t,n){e.exports={userPhoto:"users_userPhoto__1mUrB",selectedPage:"users_selectedPage__qjBYJ"}},123:function(e,t,n){e.exports=n.p+"static/media/user.34c3332c.png"},124:function(e,t,n){e.exports=n.p+"static/media/preloader.d1f91937.svg"},125:function(e,t,n){e.exports={profileWrapper:"Profile_profileWrapper__IHkfm"}},126:function(e,t,n){e.exports={post:"Post_post__2Wk6l"}},153:function(e,t,n){e.exports=n(294)},161:function(e,t,n){},163:function(e,t,n){},176:function(e,t,n){e.exports={div:"News_div__3c8Bf"}},178:function(e,t,n){e.exports={div:"Music_div__1oSUe"}},19:function(e,t,n){e.exports={navbarContainer:"Navbar_navbarContainer__2lw2o",navbarList:"Navbar_navbarList__3oBqE",navbarItem:"Navbar_navbarItem__2ZbxZ",navbarLink:"Navbar_navbarLink__36AMa",activeLink:"Navbar_activeLink__2pGVv"}},28:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__26S5w",dialogsItems:"Dialogs_dialogsItems__3pt3P",messages:"Dialogs_messages__yUddX",dialogItem:"Dialogs_dialogItem__oagFC",message:"Dialogs_message__2Lba5",active:"Dialogs_active__3sAJa"}},285:function(e,t,n){e.exports={div:"Settings_div__UE6RI"}},294:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(116),i=n.n(o),s=(n(161),n(11)),l=n(15),u=n(24),c=n(21),f=n(23),m=(n(163),n(36)),p=n.n(m),d=n(20),g=function(e){return r.a.createElement("header",{className:p.a.headerContainer},r.a.createElement("div",{className:p.a.logoContainer},r.a.createElement("img",{src:"logo.png",alt:"Social Network Logo",className:p.a.logo}),r.a.createElement("h1",{className:p.a.logoName},"Samurai Network")),r.a.createElement("div",{className:p.a.loginContainer},e.isAuth?r.a.createElement("div",null,e.login," - ",r.a.createElement("button",{onClick:e.logout},"Log Out")):r.a.createElement(d.b,{to:"/login"},r.a.createElement("button",{className:p.a.loginButton},"Login"))))},h=n(17),v=n(18),E=n(296).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"f3dead76-f603-469c-a1f6-ddd6a0d865c2"}}),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return E.get("users?page=".concat(e,"&count=").concat(t)).then(function(e){return e.data})},y=function(e){return E.post("follow/".concat(e))},_=function(e){return E.delete("follow/".concat(e))},w=function(e){return console.warn("Obsolete method. Please use profileAPI object."),O.getProfile(e)},O={getProfile:function(e){return E.get("profile/"+e)},getStatus:function(e){return E.get("profile/status/"+e)},updateStatus:function(e){return E.put("profile/status",{status:e})}},P=function(){return E.get("auth/me")},S=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return E.post("auth/login",{email:e,password:t,rememberMe:n})},j=function(){return E.delete("auth/login")},C=n(38),N={userId:null,email:null,login:null,isAuth:!1},L=function(e,t,n,a){return{type:"SET-USER-DATA",payload:{userId:e,email:t,login:n,isAuth:a}}},I=function(){return function(e){P().then(function(t){if(0===t.data.resultCode){var n=t.data.data,a=n.id,r=n.email,o=n.login;e(L(a,r,o,!0))}})}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-USER-DATA":return Object(v.a)({},e,t.payload);default:return e}},x=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(g,this.props)}}]),t}(r.a.Component),T=Object(h.b)(function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}},{logout:function(){return function(e){j().then(function(t){0===t.data.resultCode&&e(L(null,null,null,!1))})}}})(x),U=n(19),A=n.n(U),F=function(){return r.a.createElement("nav",{className:A.a.navbarContainer},r.a.createElement("ul",{className:A.a.navbarList},r.a.createElement("li",{className:A.a.navbarItem},r.a.createElement(d.b,{to:"/profile",activeClassName:A.a.activeLink,className:A.a.navbarLink},"Profile")),r.a.createElement("li",{className:A.a.navbarItem},r.a.createElement(d.b,{to:"/users",activeClassName:A.a.activeLink,className:A.a.navbarLink},"Users")),r.a.createElement("li",{className:A.a.navbarItem},r.a.createElement(d.b,{to:"/dialogs",activeClassName:A.a.activeLink,className:A.a.navbarLink},"Messages")),r.a.createElement("li",{className:A.a.navbarItem},r.a.createElement(d.b,{to:"/music",activeClassName:A.a.activeLink,className:A.a.navbarLink},"Music")),r.a.createElement("li",{className:A.a.navbarItem},r.a.createElement(d.b,{to:"/news",activeClassName:A.a.activeLink,className:A.a.navbarLink},"News")),r.a.createElement("li",{className:A.a.navbarItem},r.a.createElement(d.b,{to:"/settings",activeClassName:A.a.activeLink,className:A.a.navbarLink},"Settings"))))},G=(n(176),function(){return r.a.createElement("div",null,"News")}),M=(n(178),function(){return r.a.createElement("div",null,"Music")}),R=n(74),D=n(75),W=n(44),z=n(53),B=n.n(z),H=function(e){e.input;var t=e.meta,n=(e.child,Object(W.a)(e,["input","meta","child"])),a=t.touched&&t.error;return r.a.createElement("div",{className:B.a.formControl+""+(a?B.a.error:"")},n.children,a&&r.a.createElement("span",null,t.error))},Y=function(e){var t=e.input,n=(e.meta,e.child,Object(W.a)(e,["input","meta","child"]));return r.a.createElement(H,e,r.a.createElement("textarea",Object.assign({},n,t)))},J=function(e){var t=e.input,n=(e.meta,e.child,Object(W.a)(e,["input","meta","child"]));return r.a.createElement(H,e,r.a.createElement("input",Object.assign({},n,t)))},Z=function(e){if(!e)return"Field is required"},q=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},K=n(0),V=Object(D.a)({form:"login"})(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(R.a,{placeholder:"Email",validate:[Z],name:"email",component:J})),r.a.createElement("div",null,r.a.createElement(R.a,{placeholder:"Password",type:"password",validate:[Z],name:"password",component:J})),r.a.createElement("div",null,r.a.createElement(R.a,{type:"checkbox",name:"rememberMe",component:J}),"remember me"),e.error&&r.a.createElement("div",{className:B.a.formSummaryError},e.error),r.a.createElement("div",null,r.a.createElement("button",null,"Log In")))}),X=Object(h.b)(function(e){return{isAuth:e.auth.isAuth}},{login:function(e,t,n){return function(a){S(e,t,n).then(function(e){if(0===e.data.resultCode)a(I());else{var t=e.data.messages.length>0?e.data.messages[0]:"Some error";a(Object(C.a)("login",{_error:t}))}})}}})(function(e){return e.isAuth?r.a.createElement(K.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(V,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}}))}),Q=(n(285),function(){return r.a.createElement("div",null,"Settings")}),$=n(28),ee=n.n($),te=function(e){var t="/dialogs/"+e.id;return r.a.createElement("div",{className:ee.a.dialog+" "+ee.a.active},r.a.createElement(d.b,{to:t},e.name))},ne=n(16),ae={dialogs:[{name:"Dimych",id:1},{name:"Andrey",id:2},{name:"Vadym",id:3},{name:"Alisa",id:4},{name:"Serhii",id:5}],messages:[{message:"Hi",id:1},{message:"How are you?",id:2},{message:"Hello!",id:3},{message:"Where are you disappear?",id:4},{message:"Yo",id:5}]},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_MESSAGE":var n=t.newMessageBody;return Object(v.a)({},e,{messages:[].concat(Object(ne.a)(e.messages),[{id:6,message:n}])});default:return e}},oe=function(e){var t=e.message;return r.a.createElement("div",{className:ee.a.message},t)},ie=q(50),se=Object(D.a)({form:"dialogAddMessageForm"})(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(R.a,{component:Y,validate:[Z,ie],name:"newMessageBody",placeholder:"Enter your message..."})),r.a.createElement("div",null,r.a.createElement("button",null,"Send")))}),le=function(e){var t=e.dialogsPage,n=t.dialogs.map(function(e){return r.a.createElement(te,{name:e.name,key:e.id,id:e.id})}),a=t.messages.map(function(e){return r.a.createElement(oe,{message:e.message,key:e.id,id:e.id})});t.newMessageBody;return e.isAuth?r.a.createElement("div",{className:ee.a.dialogs},r.a.createElement("div",{className:ee.a.dialogsItems},n),r.a.createElement("div",{className:ee.a.messages},r.a.createElement("div",null,a),r.a.createElement(se,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}}))):r.a.createElement(K.a,{to:"/login"})},ue=n(12),ce=function(e){return{isAuth:e.auth.isAuth}},fe=function(e){var t=function(t){function n(){return Object(s.a)(this,n),Object(u.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(f.a)(n,t),Object(l.a)(n,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(K.a,{to:"/login"})}}]),n}(r.a.Component);return Object(h.b)(ce)(t)},me=Object(ue.d)(Object(h.b)(function(e){return{dialogsPage:e.dialogsPage}},function(e){return{sendMessage:function(t){e(function(e){return{type:"SEND_MESSAGE",newMessageBody:e}}(t))}}}),fe)(le),pe=n(13),de=function(e,t,n,a){e.map(function(e){return e[n]===t?Object(v.a)({},e,a):e})};function ge(){ge=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),s=new S(r||[]);return a(i,"_invoke",{value:_(e,n,s)}),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=u;var f={};function m(){}function p(){}function d(){}var g={};l(g,o,function(){return this});var h=Object.getPrototypeOf,v=h&&h(h(j([])));v&&v!==t&&n.call(v,o)&&(g=v);var E=d.prototype=m.prototype=Object.create(g);function b(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function y(e,t){var r;a(this,"_invoke",{value:function(a,o){function i(){return new t(function(r,i){!function a(r,o,i,s){var l=c(e[r],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){a("next",e,i,s)},function(e){a("throw",e,i,s)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return a("throw",e,i,s)})}s(l.arg)}(a,o,r,i)})}return r=r?r.then(i,i):i()}})}function _(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return C()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var s=w(i,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var l=c(e,t,n);if("normal"===l.type){if(a=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a="completed",n.method="throw",n.arg=l.arg)}}}function w(e,t){var n=t.method,a=e.iterator[n];if(void 0===a)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var r=c(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=d,a(E,"constructor",{value:d,configurable:!0}),a(d,"constructor",{value:p,configurable:!0}),p.displayName=l(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},b(y.prototype),l(y.prototype,i,function(){return this}),e.AsyncIterator=y,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new y(u(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(E),l(E,s,"Generator"),l(E,o,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=j,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;P(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var he={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},ve=function(e){return{type:"FOLLOW",userId:e}},Ee=function(e){return{type:"UNFOLLOW",userId:e}},be=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},ye=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},_e=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(v.a)({},e,{users:de(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(v.a)({},e,{users:de(e.users,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(v.a)({},e,{users:t.users});case"SET_CURRENT_PAGE":return Object(v.a)({},e,{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(v.a)({},e,{totalUsersCount:t.totalUsersCount});case"TOGGLE_IS_FETCHING":return Object(v.a)({},e,{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(v.a)({},e,{followingInProgress:t.isFetching?[].concat(Object(ne.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter(function(e){return e!=t.userId})});default:return e}},Oe=n(121),Pe=n.n(Oe),Se=function(e){for(var t=e.totalUsersCount,n=e.pageSize,a=e.onPageChanged,o=e.currentPage,i=Math.ceil(t/n),s=[],l=1;l<=i;l++)s.push(l);return r.a.createElement("div",null,s.map(function(e){return r.a.createElement("span",{key:e,className:o===e&&Pe.a.selectedPage,onClick:function(){a(e)}},e)}))},je=n(122),Ce=n.n(je),Ne=n(123),Le=n.n(Ne),Ie=function(e){var t=e.user,n=e.followingInProgress,a=e.unfollow,o=e.follow;return r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(d.b,{to:"/profile/"+t.id},r.a.createElement("img",{src:null!=t.photoUrl?t.photos.small:Le.a,alt:"",className:Ce.a.userPhoto}))),r.a.createElement("div",null,t.followed?r.a.createElement("button",{disabled:n.some(function(e){return e===t.id}),onClick:function(){a(t.id)}},"Unfollow"):r.a.createElement("button",{disabled:n.some(function(e){return e===t.id}),onClick:function(){o(t.id)}},"Follow"))),r.a.createElement("span",null,r.a.createElement("span",null,r.a.createElement("div",null,t.name),r.a.createElement("div",null,t.status)),r.a.createElement("span",null,r.a.createElement("div",null,"u.location.country"),r.a.createElement("div",null,"u.location.city"))))},ke=function(e){var t=e.currentPage,n=e.onPageChanged,a=e.totalUsersCount,o=e.pageSize,i=e.users,s=Object(W.a)(e,["currentPage","onPageChanged","totalUsersCount","pageSize","users"]);return r.a.createElement("div",null,r.a.createElement(Se,{currentPage:t,onPageChanged:n,totalUsersCount:a,pageSize:o}),r.a.createElement("div",null,i.map(function(e){return r.a.createElement(Ie,{user:e,key:e.id,followingInProgress:s.followingInProgress,unfollow:s.unfollow,follow:s.follow})})))},xe=n(124),Te=n.n(xe),Ue=function(e){return r.a.createElement("img",{src:Te.a,alt:""})},Ae=function(e){return e.usersPage.users},Fe=function(e){return e.usersPage.pageSize},Ge=function(e){return e.usersPage.totalUsersCount},Me=function(e){return e.usersPage.currentPage},Re=function(e){return e.usersPage.isFetching},De=function(e){return e.usersPage.followingInProgress},We=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).onPageChanged=function(e){n.props.getUsers(e,n.props.pageSize)},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.CurrentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(Ue,null):null,r.a.createElement(ke,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress}))}}]),t}(r.a.Component),ze=(fe(We),Object(ue.d)(fe,Object(h.b)(function(e){return{users:Ae(e),pageSize:Fe(e),totalUsersCount:Ge(e),currentPage:Me(e),isFetching:Re(e),followingInProgress:De(e)}},{follow:function(e){return function(){var t=Object(pe.a)(ge().mark(function t(n){return ge().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(_e(!0,e)),t.next=3,y(e);case 3:0==t.sent.data.resultCode&&n(ve(e)),n(_e(!1,e));case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(pe.a)(ge().mark(function t(n){return ge().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(_e(!0,e)),t.next=3,_(e);case 3:0==t.sent.data.resultCode&&n(Ee(e)),n(_e(!1,e));case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:be,toggleFollowingProgress:_e,getUsers:function(e,t){return function(){var n=Object(pe.a)(ge().mark(function n(a){var r;return ge().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a(ye(!0)),a(be(e)),n.next=4,b(e,t);case 4:r=n.sent,a(ye(!1)),a({type:"SET_USERS",users:r.items}),a({type:"SET_TOTAL_USERS_COUNT",totalUsersCount:r.totalCount});case 8:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}}))(We)),Be=n(125),He=n.n(Be),Ye=n(94),Je=n.n(Ye),Ze=n(7),qe=function(e){var t=Object(a.useState)(!1),n=Object(Ze.a)(t,2),o=n[0],i=n[1],s=Object(a.useState)(e.status),l=Object(Ze.a)(s,2),u=l[0],c=l[1];Object(a.useEffect)(function(){c(e.status)},[e.status]);return r.a.createElement("div",null,!o&&r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:function(){i(!0)}},e.status||"---")),o&&r.a.createElement("div",null,r.a.createElement("input",{value:u,onChange:function(e){c(e.currentTarget.value)},autoFocus:!0,onBlur:function(){i(!1),e.updateStatus(u)}})))},Ke=function(e){var t=e.profile,n=e.status,a=e.updateStatus;return t?r.a.createElement("div",{className:Je.a.profileWrapper},"Profile Info",r.a.createElement("div",{className:Je.a.avatar},r.a.createElement("img",{src:t.photos.large,alt:"avatar"})),r.a.createElement("div",null,"Last Name"),r.a.createElement(qe,{status:n,updateStatus:a})):r.a.createElement(Ue,null)},Ve={posts:[{message:"Hi, how are you?",id:1,likesCount:11},{message:"It is my first post",id:2,likesCount:23}],profile:null,status:""},Xe=function(e){return{type:"SET-STATUS",status:e}},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={message:t.newPostText,id:5,likesCount:0};return Object(v.a)({},e,{posts:[].concat(Object(ne.a)(e.posts),[n]),newPostText:""});case"SET-USER-PROFILE":return Object(v.a)({},e,{profile:t.profile});case"SET-STATUS":return Object(v.a)({},e,{status:t.status});default:return e}},$e=n(78),et=n.n($e),tt=n(126),nt=n.n(tt),at=function(e){return r.a.createElement("div",{className:nt.a.post},e.message," ",e.likesCount," ")},rt=Object(D.a)({form:"ProfileAddNewPostForm"})(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:et.a.post},r.a.createElement("div",null,r.a.createElement(R.a,{component:Y,placeholder:"Enter your post...",name:"newPostText",validate:[Z,q(10)]})),r.a.createElement("div",null,r.a.createElement("button",null,"Add Post")))}),ot=function(e){var t=e.posts.map(function(e){return r.a.createElement(at,{key:e.id,message:e.message,id:e.id,likesCount:e.likesCount})});return r.a.createElement("div",{className:et.a.postWrapper},r.a.createElement("h3",null,"My Posts"),r.a.createElement(rt,{onSubmit:function(t){e.addPost(t.newPostText)}}),r.a.createElement("div",{className:et.a.posts},t))},it=Object(h.b)(function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}},function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",newPostText:e}}(t))}}})(ot),st=function(e){return r.a.createElement("div",{className:He.a.profileWrapper},r.a.createElement(Ke,{profile:e.profile,status:e.status,updateStatus:e.updateStatus})," ",r.a.createElement(it,{store:e.store}))};function lt(e){return function(t){var n={params:Object(K.r)()};return r.a.createElement(e,Object.assign({},t,{match:n}))}}var ut=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return r.a.createElement(st,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),t}(r.a.Component),ct=Object(ue.d)(Object(h.b)(function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.userId,isAuth:e.auth.isAuth}},{getUserProfile:function(e){return function(t){w(e).then(function(e){t({type:"SET-USER-PROFILE",profile:e.data})})}},getStatus:function(e){return function(t){O.getStatus(e).then(function(e){t(Xe(e.data))})}},updateStatus:function(e){return function(t){O.updateStatus(e).then(function(n){0===n.data.resultCode&&t(Xe(e))})}}}),lt,fe)(ut),ft={initialized:!1},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft;switch((arguments.length>1?arguments[1]:void 0).type){case"INITIALIZED_SUCCESS":return Object(v.a)({},e,{initialized:!0});default:return e}},pt=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"appWrapper"},r.a.createElement(T,null),r.a.createElement(F,null),r.a.createElement("div",{className:"appWrapperContent"},r.a.createElement(K.d,null,r.a.createElement(K.b,{path:"/profile/:userId?",element:r.a.createElement(ct,null)}),r.a.createElement(K.b,{path:"/dialogs/*",element:r.a.createElement(me,{store:this.props.store})}),r.a.createElement(K.b,{path:"/users/*",element:r.a.createElement(ze,null)}),r.a.createElement(K.b,{path:"/news",element:r.a.createElement(G,null)}),r.a.createElement(K.b,{path:"/music",element:r.a.createElement(M,null)}),r.a.createElement(K.b,{path:"/settings",element:r.a.createElement(Q,null)}),r.a.createElement(K.b,{path:"/login",element:r.a.createElement(X,null)})))):r.a.createElement(Ue,null)}}]),t}(a.Component),dt=Object(ue.d)(lt,Object(h.b)(function(e){return{initialized:e.app.initialized}},{initializeApp:function(){return function(e){var t=e(I());Promise.all([t]).then(function(){e({type:"INITIALIZED_SUCCESS"})})}}}))(pt),gt=n(127),ht=n(76),vt=Object(ue.c)({dialogsPage:re,profilePage:Qe,usersPage:we,auth:k,form:ht.a,app:mt}),Et=Object(ue.e)(vt,Object(ue.a)(gt.a));window.store=Et;var bt=Et;window.state=bt,i.a.createRoot(document.getElementById("root")).render(r.a.createElement(d.a,{basename:"/social-network-samurai"},r.a.createElement(r.a.StrictMode,null,r.a.createElement(h.a,{store:bt},r.a.createElement(dt,null)))))},36:function(e,t,n){e.exports={headerContainer:"Header_headerContainer__2GPKv",logoContainer:"Header_logoContainer__2Pmm3",logo:"Header_logo__1RNJm",logoName:"Header_logoName__3RnL3",loginContainer:"Header_loginContainer__3wOxn",loginButton:"Header_loginButton__1LLCY"}},53:function(e,t,n){e.exports={formControl:"FormsControls_formControl__285K0",error:"FormsControls_error__176IW"}},78:function(e,t,n){e.exports={postWrapper:"MyPosts_postWrapper__1C98G",posts:"MyPosts_posts__2tGd-",post:"MyPosts_post___UBIi",message:"MyPosts_message__2swYB",likes:"MyPosts_likes__1SF9k"}},94:function(e,t,n){e.exports={profileWrapper:"ProfileInfo_profileWrapper__dPyW1",profileCover:"ProfileInfo_profileCover__247Ui",avatar:"ProfileInfo_avatar__2aoNi"}}},[[153,2,1]]]);
//# sourceMappingURL=main.0267d9de.chunk.js.map